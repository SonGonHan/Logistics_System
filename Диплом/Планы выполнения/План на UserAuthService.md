## –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚úÖ = –ó–∞–≤–µ—Ä—à–µ–Ω–æ | ‚è≥ = –í –ø—Ä–æ—Ü–µ—Å—Å–µ | ‚ùå = –ù–µ –Ω–∞—á–∞—Ç–æ | üîπ = –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 1: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### ‚ùå 1.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
**–î–ª—è —á–µ–≥–æ:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å–±–æ—Ä –ª–æ–≥–æ–≤ –≤ ELK –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –≤ production, –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã.

- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ logback-spring.xml –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–ø–∞–∫–æ–≤–∞–Ω –≤ JAR –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å MDC context –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è userId, traceId, requestId –≤ –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É –ª–æ–≥–∞
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ JSON-–ª–æ–≥–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–ø–∞–¥–∞—é—Ç –≤ Elasticsearch —Å –ø–æ–ª—è–º–∏ level, logger_name, message
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–∑–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ –ø—Ä–æ—Ñ–∏–ª—è–º: DEBUG –¥–ª—è dev, INFO/WARN –¥–ª—è production

### ‚ùå 1.2. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
**–î–ª—è —á–µ–≥–æ:** –ù–æ–≤—ã–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Å—Ç—Ä–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–æ–µ–∫—Ç –ª–æ–∫–∞–ª—å–Ω–æ –∏ –ø–æ–Ω–∏–º–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å–µ—Ä–≤–∏—Å–∞.

- README.md —Å Quick Start: –∫–∞–∫ –ø–æ–¥–Ω—è—Ç—å docker-compose, –∑–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å health endpoints
- –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ (hexagonal architecture, package organization)
- –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API (curl/Postman –∫–æ–ª–ª–µ–∫—Ü–∏—è)
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–±–æ—Ç–µ —Å –ø—Ä–æ—Ñ–∏–ª—è–º–∏ (dev/test/prod)

### üîπ 1.3. CI/CD pipeline
**–î–ª—è —á–µ–≥–æ:** –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –¥–µ–ø–ª–æ—è —Å–Ω–∏–∂–∞–µ—Ç —Ä–∏—Å–∫ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –∏ —É—Å–∫–æ—Ä—è–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É —Ñ–∏—á.

- GitHub Actions / GitLab CI –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- Stages: build ‚Üí test ‚Üí security scan ‚Üí docker build ‚Üí deploy
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–∏ –∫–∞–∂–¥–æ–º push/merge request

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 2: API —Å–ª–æ–π (Controllers & DTOs)

### ‚ùå 2.1. AuthController ‚Äî –æ—Å–Ω–æ–≤–Ω—ã–µ endpoints
**–î–ª—è —á–µ–≥–æ:** –≠—Ç–æ –ø—É–±–ª–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–µ—Ä–≤–∏—Å–∞, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–π –∫–ª–∏–µ–Ω—Ç—ã (–≤–µ–±/–º–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è) –±—É–¥—É—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –≤—Ö–æ–¥–∏—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É.

- POST /api/v1/auth/register ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è CLIENT –∏–ª–∏ UNREGISTERED_CONTACT
- POST /api/v1/auth/login ‚Äî –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ phone/password, –≤–æ–∑–≤—Ä–∞—Ç access + refresh —Ç–æ–∫–µ–Ω–æ–≤
- POST /api/v1/auth/refresh ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ access token –ø–æ refresh token
- POST /api/v1/auth/logout ‚Äî –æ—Ç–∑—ã–≤ refresh token (–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏)
- POST /api/v1/auth/verify-phone ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —á–µ—Ä–µ–∑ SMS –∫–æ–¥ (–¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç —Ñ–µ–π–∫–æ–≤—ã—Ö —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π)

### ‚ùå 2.2. UserController ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º
**–î–ª—è —á–µ–≥–æ:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ, –∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã ‚Äî —É–ø—Ä–∞–≤–ª—è—Ç—å —Ä–æ–ª—è–º–∏ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

- GET /api/v1/users/me ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∏–∑ JWT)
- PUT /api/v1/users/me ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è (email, –∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω)
- PUT /api/v1/users/{userId}/upgrade-to-client ‚Äî –∞–ø–≥—Ä–µ–π–¥ —Ä–æ–ª–∏ —Å UNREGISTERED_CONTACT –Ω–∞ CLIENT (—Ç—Ä–µ–±—É–µ—Ç—Å—è email + password)
- GET /api/v1/users/{userId} ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç–æ–ª—å–∫–æ –¥–ª—è ADMIN/SYSTEM —Ä–æ–ª–µ–π)

### ‚ùå 2.3. DTO –∫–ª–∞—Å—Å—ã –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
**–î–ª—è —á–µ–≥–æ:** –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —É—Ä–æ–≤–Ω–µ API –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î –∏ –ø–æ–≤—ã—à–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.

- Request DTO: RegisterRequest, LoginRequest, RefreshTokenRequest, UpdateProfileRequest
- Response DTO: AuthResponse (tokens), UserResponse, ErrorResponse
- Jakarta Bean Validation –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏: @NotBlank, @Email, @Pattern –¥–ª—è phone, @Size –¥–ª—è password
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –∏–∑ shared-library: @Phone, @Password

### ‚ùå 2.4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ HTTP —Å—Ç–∞—Ç—É—Å—ã
**–î–ª—è —á–µ–≥–æ:** –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫, –∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö.

- @ControllerAdvice GlobalExceptionHandler –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- –ú–∞–ø–ø–∏–Ω–≥ –¥–æ–º–µ–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π –Ω–∞ HTTP —Å—Ç–∞—Ç—É—Å—ã:
  - 400 Bad Request ‚Äî –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–≤–∞–ª–∏–¥–∞—Ü–∏—è)
  - 401 Unauthorized ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–µ credentials, expired token
  - 403 Forbidden ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤
  - 404 Not Found ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω
  - 409 Conflict ‚Äî —Ç–µ–ª–µ—Ñ–æ–Ω/email —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
  - 500 Internal Server Error ‚Äî –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—à–∏–±–∫–∏: { "error": "CODE", "message": "...", "fields": {...} }

### ‚ùå 2.5. OpenAPI (Swagger) –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
**–î–ª—è —á–µ–≥–æ:** –§—Ä–æ–Ω—Ç–µ–Ω–¥-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –∑–Ω–∞—Ç—å, –∫–∞–∫–∏–µ endpoints –¥–æ—Å—Ç—É–ø–Ω—ã, –∫–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç –∏ —á—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç.

- –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @Operation, @ApiResponses –¥–ª—è –∫–∞–∂–¥–æ–≥–æ endpoint
- –û–ø–∏—Å–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –∑–∞–ø—Ä–æ—Å–∞/–æ—Ç–≤–µ—Ç–∞
- –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ (example values)
- Swagger UI –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ /swagger-ui.html –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API –≤—Ä—É—á–Ω—É—é

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 3: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (Services)

### ‚è≥ 3.1. AuthService ‚Äî –¥–æ—Ä–∞–±–æ—Ç–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
**–î–ª—è —á–µ–≥–æ:** –≠—Ç–æ —è–¥—Ä–æ —Å–µ—Ä–≤–∏—Å–∞, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—É—é —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é, –≤—Ö–æ–¥ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞–º–∏.

- ‚úÖ register, login, refresh, logout —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚ùå verifyPhone(phone, code) ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ SMS –∫–æ–¥–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SMS gateway)
- ‚ùå –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞ (—É—Å–ø–µ—à–Ω—ã—Ö –∏ –Ω–µ—É—Å–ø–µ—à–Ω—ã—Ö) –¥–ª—è –∞—É–¥–∏—Ç–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚ùå –û–±—Ä–∞–±–æ—Ç–∫–∞ edge cases: expired tokens, revoked sessions, multiple devices

### ‚ùå 3.2. UserService ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
**–î–ª—è —á–µ–≥–æ:** –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–º –ø—Ä–æ—Ü–µ—Å—Å–∞–º –Ω—É–∂–µ–Ω —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–∞—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑ –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –ë–î.

- getUserById(userId) ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–æ–ª–∏/–¥–∞–Ω–Ω—ã—Ö
- getUserByPhone(phone) ‚Äî –ø–æ–∏—Å–∫ –∫–æ–Ω—Ç–∞–∫—Ç–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–∞–∫–ª–∞–¥–Ω–æ–π
- updateUserProfile(userId, dto) ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–º–µ–Ω–∏, email (—Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ email)
- upgradeToClient(userId, email, password) ‚Äî –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏–µ –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞ –≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
- changeUserRole(userId, newRole) ‚Äî —Å–º–µ–Ω–∞ —Ä–æ–ª–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è ADMIN, —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø—Ä–∞–≤)

### ‚ùå 3.3. AuditService ‚Äî –∂—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π
**–î–ª—è —á–µ–≥–æ:** –î–ª—è compliance –∏ —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω—É–∂–Ω–∞ –∏—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

- logEvent(userId, action, tablename, recordId, details) ‚Äî –∑–∞–ø–∏—Å—å –≤ auditlogs —Ç–∞–±–ª–∏—Ü—É
- publishAuditEvent(event) ‚Äî –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏—è –≤ RabbitMQ –¥–ª—è Notification Service (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ —Å–º–µ–Ω–µ –ø–∞—Ä–æ–ª—è)
- getAuditHistory(userId, dateRange) ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏–ª–∏ –∞–¥–º–∏–Ω—É

### ‚ùå 3.4. SessionManagementService
**–î–ª—è —á–µ–≥–æ:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –∏ –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–∏—Ç—å –∏—Ö (–∑–∞—â–∏—Ç–∞ –æ—Ç –∫—Ä–∞–∂–∏ —Ç–æ–∫–µ–Ω–æ–≤).

- getActiveSessions(userId) ‚Äî —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö refresh —Ç–æ–∫–µ–Ω–æ–≤ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ (IP, User-Agent, –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è)
- revokeSession(sessionId) ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–µ—Å—Å–∏–∏ (logout –Ω–∞ –¥—Ä—É–≥–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ)
- revokeAllSessions(userId) ‚Äî "–≤—ã–π—Ç–∏ –≤–µ–∑–¥–µ" (–ø—Ä–∏ —Å–º–µ–Ω–µ –ø–∞—Ä–æ–ª—è –∏–ª–∏ –ø–æ–¥–æ–∑—Ä–µ–Ω–∏–∏ –Ω–∞ –≤–∑–ª–æ–º)
- Scheduled task –¥–ª—è –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∏ expired —Å–µ—Å—Å–∏–π (—Ä–∞–∑ –≤ —á–∞—Å)

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 4: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚ùå 4.1. Rate limiting –¥–ª—è auth endpoints
**–î–ª—è —á–µ–≥–æ:** –ó–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å –∞—Ç–∞–∫ –∏ DDoS. –ë–µ–∑ rate limiting –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–±–∏—Ä–∞—Ç—å –ø–∞—Ä–æ–ª–∏ –∏–ª–∏ –∑–∞–≤–∞–ª–∏—Ç—å —Å–µ—Ä–≤–∏—Å –∑–∞–ø—Ä–æ—Å–∞–º–∏.

- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ /auth/login: 5 –ø–æ–ø—ã—Ç–æ–∫ –∑–∞ 15 –º–∏–Ω—É—Ç —Å –æ–¥–Ω–æ–≥–æ IP
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ /auth/register: 3 —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ —á–∞—Å —Å –æ–¥–Ω–æ–≥–æ IP
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ /auth/refresh: 10 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É —Å –æ–¥–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Redis + Bucket4j –∏–ª–∏ Spring Security RateLimiter

### üîπ 4.2. Two-Factor Authentication (2FA)
**–î–ª—è —á–µ–≥–æ:** –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –∑–∞—â–∏—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã, –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –ü–í–ó). –î–∞–∂–µ –µ—Å–ª–∏ –ø–∞—Ä–æ–ª—å —É–∫—Ä–∞–¥–µ–Ω, –±–µ–∑ 2FA –≤–æ–π—Ç–∏ –Ω–µ–ª—å–∑—è.

- –í–∫–ª—é—á–µ–Ω–∏–µ 2FA —á–µ—Ä–µ–∑ /users/me/enable-2fa (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ–∫—Ä–µ—Ç–∞ + QR –∫–æ–¥ –¥–ª—è Google Authenticator)
- –ü—Ä–∏ login –ø—Ä–æ–≤–µ—Ä–∫–∞ TOTP –∫–æ–¥–∞, –µ—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤–∫–ª—é—á–µ–Ω 2FA
- Backup –∫–æ–¥—ã –Ω–∞ —Å–ª—É—á–∞–π –ø–æ—Ç–µ—Ä–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

### üîπ 4.3. OAuth2 / Social Login
**–î–ª—è —á–µ–≥–æ:** –£–ø—Ä–æ—â–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ ‚Äî –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ Google/Yandex –±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è.

- Spring Security OAuth2 Client –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- Endpoints: /oauth2/authorization/google, /oauth2/authorization/yandex
- –ú–∞–ø–ø–∏–Ω–≥ OAuth2 –ø—Ä–æ—Ñ–∏–ª—è –Ω–∞ User entity (—Å–æ–∑–¥–∞–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏)

### ‚ùå 4.4. CORS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
**–î–ª—è —á–µ–≥–æ:** –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–æ–º –¥–æ–º–µ–Ω–µ –¥–æ–ª–∂–Ω–æ –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ API —Å–µ—Ä–≤–∏—Å–∞.

- –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ origins –¥–ª—è dev (localhost:3000) –∏ prod (example.com)
- Allowed methods: GET, POST, PUT, DELETE
- Allowed headers: Authorization, Content-Type
- Expose headers: X-Total-Count (–¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏)

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### ‚ùå 5.1. RabbitMQ Producer –¥–ª—è —Å–æ–±—ã—Ç–∏–π
**–î–ª—è —á–µ–≥–æ:** –î—Ä—É–≥–∏–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –¥–æ–ª–∂–Ω—ã —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–æ–±—ã—Ç–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Notification Service –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç welcome email –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏).

- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è exchanges, queues, bindings
- AuditEventPublisher: –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π user.login, user.logout, user.password.changed
- UserEventPublisher: user.created, user.role.changed, user.deleted
- Retry mechanism –∏ DLQ (Dead Letter Queue) –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

### ‚ùå 5.2. SMS Gateway –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
**–î–ª—è —á–µ–≥–æ:** –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–µ–π–∫–æ–≤—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤.

- SmsService –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –¥–ª—è Twilio/SMSC API
- sendVerificationCode(phone) ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è 6-–∑–Ω–∞—á–Ω–æ–≥–æ –∫–æ–¥–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ SMS
- verifyCode(phone, code) ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ (—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Redis —Å TTL 5 –º–∏–Ω—É—Ç)
- Fallback –Ω–∞ mock —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤ dev –ø—Ä–æ—Ñ–∏–ª–µ

### üîπ 5.3. Email Service
**–î–ª—è —á–µ–≥–æ:** –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö (—Å–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è, –Ω–æ–≤—ã–π –≤—Ö–æ–¥ —Å –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞).

- Spring Mail –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (SMTP server)
- Thymeleaf —à–∞–±–ª–æ–Ω—ã –¥–ª—è welcome email, password reset, security alert
- sendEmail(to, subject, template, variables)
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ (–Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫)

### üîπ 5.4. Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
**–î–ª—è —á–µ–≥–æ:** –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –ë–î –∑–∞ —Å—á–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö (user profiles, permissions).

- @Cacheable("users") –¥–ª—è getUserById
- Eviction –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (@CacheEvict)
- Redis —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è rate limiting –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è SMS –∫–æ–¥–æ–≤

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### ‚ùå 6.1. Unit —Ç–µ—Å—Ç—ã –¥–ª—è Services
**–î–ª—è —á–µ–≥–æ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –≤ –∏–∑–æ–ª—è—Ü–∏–∏ –æ—Ç –ë–î –∏ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –ë—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º build.

- AuthService: —Ç–µ—Å—Ç—ã –¥–ª—è register (—É—Å–ø–µ—Ö, duplicate phone), login (success, wrong password), refresh (valid, expired)
- UserService: —Ç–µ—Å—Ç—ã –¥–ª—è updateProfile, changeRole
- JwtService: —Ç–µ—Å—Ç—ã –¥–ª—è generate, validate, extract claims
- Mockito –¥–ª—è –º–æ–∫–æ–≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤

### ‚ùå 6.2. Integration —Ç–µ—Å—Ç—ã —Å Testcontainers
**–î–ª—è —á–µ–≥–æ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–∞ —Å —Ä–µ–∞–ª—å–Ω–æ–π –ë–î –∏ –ø–æ–ª–Ω–æ–≥–æ flow: –æ—Ç HTTP –∑–∞–ø—Ä–æ—Å–∞ –¥–æ –∑–∞–ø–∏—Å–∏ –≤ PostgreSQL.

- @SpringBootTest —Å WebEnvironment.RANDOM_PORT
- Testcontainers –¥–ª—è PostgreSQL
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ endpoints: register ‚Üí login ‚Üí refresh ‚Üí logout
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–∏—Å–µ–π –≤ –ë–î –ø–æ—Å–ª–µ –æ–ø–µ—Ä–∞—Ü–∏–π

### üîπ 6.3. Security —Ç–µ—Å—Ç—ã
**–î–ª—è —á–µ–≥–æ:** –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ endpoints –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ç—Ä–µ–±—É—é—Ç –≤–∞–ª–∏–¥–Ω—ã–π JWT, –∞ –ø—É–±–ª–∏—á–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –±–µ–∑ —Ç–æ–∫–µ–Ω–∞.

- –¢–µ—Å—Ç—ã –¥–ª—è /users/me —Å –≤–∞–ª–∏–¥–Ω—ã–º JWT (200), —Å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º (401), –±–µ–∑ JWT (401)
- –¢–µ—Å—Ç—ã –¥–ª—è role-based access: CLIENT –Ω–µ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å admin endpoint
- –¢–µ—Å—Ç—ã –¥–ª—è CSRF, XSS –∑–∞—â–∏—Ç—ã

### üîπ 6.4. Performance —Ç–µ—Å—Ç—ã
**–î–ª—è —á–µ–≥–æ:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å–µ—Ä–≤–∏—Å –≤—ã–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1000 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö login –∑–∞–ø—Ä–æ—Å–æ–≤).

- JMeter –∏–ª–∏ Gatling —Å—Ü–µ–Ω–∞—Ä–∏–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π: login, refresh, getUserById
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ latency, throughput, error rate

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 7: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ Observability

### ‚ùå 7.1. –ú–µ—Ç—Ä–∏–∫–∏ (Prometheus + Micrometer)
**–î–ª—è —á–µ–≥–æ:** –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –¥–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, —Å–∫–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è, —Å–∫–æ–ª—å–∫–æ –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞ –ø—Ä–æ–≤–∞–ª–∏–≤–∞–µ—Ç—Å—è, –∫–∞–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –ë–î.

- Custom metrics:
  - auth_login_total (counter —Å —Ç–µ–≥–∞–º–∏: success/failure)
  - auth_register_total
  - jwt_token_validation_duration_seconds (histogram)
- JVM metrics: heap usage, GC pauses, thread count
- Database connection pool metrics: active connections, idle connections, wait time
- Endpoint /actuator/prometheus –¥–ª—è scraping

### ‚ùå 7.2. Distributed Tracing (Jaeger / Zipkin)
**–î–ª—è —á–µ–≥–æ:** –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –≤ production –Ω—É–∂–Ω–æ –≤–∏–¥–µ—Ç—å –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∑–∞–ø—Ä–æ—Å–∞ —á–µ—Ä–µ–∑ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã (User Auth ‚Üí Core Business ‚Üí Payment).

- Spring Cloud Sleuth –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ traceId/spanId
- Propagation –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ HTTP headers (X-B3-TraceId)
- Trace ID –≤ MDC, —á—Ç–æ–±—ã –æ–Ω –ø–æ–ø–∞–¥–∞–ª –≤ –ª–æ–≥–∏
- Jaeger UI –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ latency –ø–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º

### ‚ùå 7.3. Health checks –∏ Readiness probes
**–î–ª—è —á–µ–≥–æ:** Kubernetes/Docker –¥–æ–ª–∂–Ω—ã –∑–Ω–∞—Ç—å, –∫–æ–≥–¥–∞ —Å–µ—Ä–≤–∏—Å –≥–æ—Ç–æ–≤ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫, –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ–∑–¥–æ—Ä–æ–≤—ã–µ –ø–æ–¥—ã.

- /actuator/health ‚Äî –æ–±—â–∏–π —Å—Ç–∞—Ç—É—Å (UP/DOWN)
- /actuator/health/liveness ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –∂–∏–≤–æ–π (–¥–ª—è Kubernetes liveness probe)
- /actuator/health/readiness ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —Å–µ—Ä–≤–∏—Å –≥–æ—Ç–æ–≤ (–ë–î –¥–æ—Å—Ç—É–ø–Ω–∞, –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–æ—à–ª–∏)
- Custom health indicators: PostgreSQL, RabbitMQ, Redis

### ‚ùå 7.4. Alerts –∏ dashboards
**–î–ª—è —á–µ–≥–æ:** –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–∞—á–Ω—É—Ç –∂–∞–ª–æ–≤–∞—Ç—å—Å—è.

- Grafana dashboards:
  - Service Overview: request rate, latency (p50/p95/p99), error rate
  - Authentication metrics: login success rate, failed login attempts (spike = –∞—Ç–∞–∫–∞)
  - Database performance: query duration, connection pool saturation
- Alertmanager rules:
  - Alert –µ—Å–ª–∏ error rate > 5% –≤ —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç
  - Alert –µ—Å–ª–∏ latency p99 > 1 —Å–µ–∫—É–Ω–¥–∞
  - Alert –µ—Å–ª–∏ –ë–î –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 8: Production readiness

### üîπ 8.1. Database optimization
**–î–ª—è —á–µ–≥–æ:** –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∑–∞–º–µ–¥–ª—è—é—Ç –≤—Å—é —Å–∏—Å—Ç–µ–º—É, –∏–Ω–¥–µ–∫—Å—ã —É—Å–∫–æ—Ä—è—é—Ç –ø–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ phone/email.

- –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –≤—Å–µ –∏–Ω–¥–µ–∫—Å—ã —Å–æ–∑–¥–∞–Ω—ã: idx_users_phone, idx_users_email, idx_usersessions_userid
- EXPLAIN ANALYZE –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- Connection pool tuning: —Ä–∞–∑–º–µ—Ä pool –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏

### üîπ 8.2. Secret management
**–î–ª—è —á–µ–≥–æ:** –•–∞—Ä–¥–∫–æ–¥ –ø–∞—Ä–æ–ª–µ–π –∏ –∫–ª—é—á–µ–π –≤ application.yml ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å. –í production –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –∏–∑ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.

- JWT secret, database password, RabbitMQ credentials –∏–∑ environment variables
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Vault / AWS Secrets Manager / Kubernetes Secrets
- –†–æ—Ç–∞—Ü–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞

### üîπ 8.3. Graceful shutdown
**–î–ª—è —á–µ–≥–æ:** –ü—Ä–∏ –¥–µ–ø–ª–æ–µ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ —Å–µ—Ä–≤–∏—Å –¥–æ–ª–∂–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Ç–µ–∫—É—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, –∞ –Ω–µ –æ–±—Ä—ã–≤–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

- Spring Boot –Ω–∞—Å—Ç—Ä–æ–π–∫–∞: server.shutdown=graceful, spring.lifecycle.timeout-per-shutdown-phase=30s
- Drain connections –ø–µ—Ä–µ–¥ –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π

### üîπ 8.4. Backup –∏ disaster recovery
**–î–ª—è —á–µ–≥–æ:** –ü—Ä–∏ —Å–±–æ–µ –ë–î –Ω—É–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞ –º–∏–Ω—É—Ç—ã, –∞ –Ω–µ —á–∞—Å—ã.

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π backup PostgreSQL (pg_dump) –∫–∞–∂–¥—É—é –Ω–æ—á—å
- –•—Ä–∞–Ω–µ–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤ –≤ S3/cloud storage —Å retention policy (30 –¥–Ω–µ–π)
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞–∑ –≤ –∫–≤–∞—Ä—Ç–∞–ª

---

## –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á

### üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è MVP
- API –°–ª–æ–π: AuthController, UserController —Å –±–∞–∑–æ–≤—ã–º–∏ endpoints
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- Unit –∏ integration —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö flows
- Health checks
- README —Å Quick Start

### üü° –í–∞–∂–Ω–æ –¥–ª—è production
- Rate limiting –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –∞—Ç–∞–∫
- RabbitMQ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- SMS –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤
- –ú–µ—Ç—Ä–∏–∫–∏ –∏ distributed tracing
- Graceful shutdown

### üü¢ Nice to have
- 2FA
- OAuth2 social login
- Email notifications
- Performance —Ç–µ—Å—Ç—ã
- Advanced dashboards –∏ alerts

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–æ—Ä—è–¥–∫—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–°–Ω–∞—á–∞–ª–∞ –∑–∞–∫—Ä—ã—Ç—å API —Å–ª–æ–π** (Controllers + DTOs + GlobalExceptionHandler + OpenAPI) ‚Äî —ç—Ç–æ –¥–∞—Å—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É –Ω–∞—á–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é
2. **–î–æ–ø–∏—Å–∞—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ Services** (UserService, AuditService) ‚Äî —á—Ç–æ–±—ã API –∏–º–µ–ª –ø–æ–ª–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
3. **–ü–æ–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–∞–º–∏ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ flow** (register ‚Üí login ‚Üí refresh) ‚Äî —á—Ç–æ–±—ã –Ω–µ —Å–ª–æ–º–∞—Ç—å —Ä–∞–±–æ—Ç–∞—é—â—É—é –ª–æ–≥–∏–∫—É –ø—Ä–∏ –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
4. **–î–æ–±–∞–≤–∏—Ç—å rate limiting** ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –∞—Ç–∞–∫ –≤–∞–∂–Ω–µ–µ –∫—Ä–∞—Å–∏–≤—ã—Ö –¥–∞—à–±–æ—Ä–¥–æ–≤
5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** (RabbitMQ, SMS) ‚Äî –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤ —Å–æ—Å—Ç–∞–≤–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
6. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏** ‚Äî –∫–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≥–æ—Ç–æ–≤, –Ω—É–∂–Ω–æ –≤–∏–¥–µ—Ç—å, –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π
7. **Production hardening** (secrets, backup, graceful shutdown) ‚Äî –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª—å–Ω—ã–º –∑–∞–ø—É—Å–∫–æ–º

---

–≠—Ç–æ—Ç –ø–ª–∞–Ω –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ –∞—Å–ø–µ–∫—Ç—ã production-ready —Å–µ—Ä–≤–∏—Å–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –º–æ–∂–µ—Ç —Å–ª—É–∂–∏—Ç—å roadmap –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
